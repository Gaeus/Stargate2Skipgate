<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_Stargate"]/comps/li[1]</xpath>
		<value>
			<li Class="StargatesMod.CompProperties_Stargate">
				<puddleTexture>Things/Building/Stargate/eventhorizon_archo</puddleTexture>
				<irisTexture>Things/Building/Stargate/iris</irisTexture>
				<puddleDrawSize>(8.7,8.7)</puddleDrawSize>
			</li>
		</value>
	</Operation>

<!-- Renaming the coordinates -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_GlyphScrap"]/label</xpath>
		<value>
			<label>Skipgate coordinates</label>
		</value>
	</Operation>
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_GlyphScrap"]/description</xpath>
		<value>
			<description>An old document containing the coordinates of a skipgate located somewhere on the planet.</description>
		</value>
	</Operation>
<!-- end of renaming the coordinates -->

<!-- Renaming the iris -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_IrisInstallKit"]/description</xpath>
		<value>
			<description>A kit containing all of the pre-assembled materials needed to install an iris into a skipgate.</description>
		</value>
	</Operation>
<!-- End of renaming the iris -->

<!-- Renaming the DHD -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_DialHomeDevice"]/label[contains(text(), 'dial home device')]</xpath>
        <value>
            <label>DHD Skipgate Interface</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_DialHomeDevice"]/description[contains(text(), 'stargate')]</xpath>
        <value>
			<description>A "DHD" the meaning of this word has been lost to time.\n\nThis ancient device is used to control a skipgate.</description>
        </value>
    </Operation>
<!-- End of renaming the DHD -->

 <!-- Renaming the Makeshift Stargate -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_OrlinStargate"]/description</xpath>
		<value>
			<description>A complex device capable of connecting to a planet’s skipgate network. It is far too fragile and primitive to handle the network’s “currents” so it tends to completely fall apart after a single trip.\n\nWarning: It is advised to move to a safe distance after establishing a connection with another skipgate.\n\nWarning: When travelling back it is advised to make a new connection, entering through an “exit” may result in the item or person being violently torn apart on a molecular level by the skipgate network’s currents.</description>
		</value>
	</Operation>

	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_OrlinStargate"]/label</xpath>
		<value>
			<label>Makeshift Skipgate</label>
		</value>
	</Operation>
<!-- End of renaming the Makeshift Stargate -->

<!-- Renaming the advanced Stargate -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_AdvancedStargate"]/description</xpath>
		<value>
			<description>A complex device capable of connecting to a planet’s skipgate network. It is tough enough to withstand the network's aggressive “currents”, making multiple trips possible.\n\nWarning: It is advised to move to a safe distance after establishing a connection with another skipgate.\n\nWarning: When travelling back it is advised to make a new connection, entering through an “exit” may result in the item or person being violently torn apart on a molecular level by the skipgate network’s currents.</description>
		</value>
	</Operation>

	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_AdvancedStargate"]/label</xpath>
		<value>
			<label>Skipgate</label>
		</value>
	</Operation>
<!-- End of renaming the Makeshift Stargate -->

<!-- Renaming the ancient/archotech Stargate -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_Stargate"]/label</xpath>
		<value>
			<label>Archotech Skipgate</label>
		</value>
	</Operation>
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="StargateMod_Stargate"]/description</xpath>
		<value>
			<description>A strange archotech device capable of connecting to a planet’s skipgate network and possibly even beyond..\n\nWarning: It is advised to move to a safe distance after establishing a connection with another skipgate.\n\nWarning: When travelling back it is advised to make a new connection, entering through an “exit” may result in the item or person being violently torn apart on a molecular level by the skipgate network’s currents.</description>
		</value>
	</Operation>
<!-- End of renaming the ancient/archotech Stargate -->

<!-- Renaming the research projects -->
	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_StargateMakingResearch"]/description</xpath>
		<value>
			<description>Build a complex device capable of utilizing a local skipgate network to allow for quick travel.</description>
		</value>
	</Operation>

		<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_StargateMakingResearch"]/label</xpath>
		<value>
			<label>Makeshift Skipgate creation</label>
		</value>
	</Operation>

	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_GlyphDeciphering"]/description</xpath>
		<value>
			<description>The glyphs sometimes found engraved on skipgates and on mysterious scraps of paper seems to be coordinates. Deciphering them and locating where they go may unlock a new way of travel.</description>
		</value>
	</Operation>

		<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_GlyphDeciphering"]/label</xpath>
		<value>
			<label>Skipgate coordinates deciphering</label>
		</value>
	</Operation>

	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_AdvancedStargateMakingResearch"]/description</xpath>
		<value>
			<description>Build a more advanced and tougher skipgate that allows for multiple trips.</description>
		</value>
	</Operation>

	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_AdvancedStargateMakingResearch"]/label</xpath>
		<value>
			<label>Advanced Skipgate creation</label>
		</value>
	</Operation>
<!-- End of renaming the research projects -->


	<Operation
		Class="PatchOperationReplace">
		<xpath>Defs/ResearchProjectDef[defName="StargateMod_StargateIrisResearch"]/description</xpath>
		<value>
			<description>Use the advanced plasteel alloys to construct a barrier, also known as an iris, that prevents anyone from entering or exiting through the skipgate.</description>
		</value>
	</Operation>

<!-- Renaming the quests -->

	    <!-- Renaming the quest name rules -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/QuestScriptDef[defName="StargatesMod_StargateSiteScript"]/questNameRules/rulesStrings/li[contains(text(), 'stargate')]</xpath>
        <value>
            <li>questName->[ancient] skipgate [site]</li>
        </value>
    </Operation>

    <!-- Renaming the quest description rules -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/QuestScriptDef[defName="StargatesMod_StargateSiteScript"]/questDescriptionRules/rulesStrings/li[contains(text(), 'stargate')]</xpath>
        <value>
            <li>questDescription(askerIsNull==true)->We have found a site containing a skipgate. It may contain treasure guarded by ancient enemies, or it may contain nothing. In either case, the skipgate there will be extremely useful if we can retrieve it.</li>
        </value>
    </Operation>

    <!-- Renaming the quest node letter -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/QuestScriptDef[defName="StargatesMod_StargateSiteScript"]/root/nodes/li[@Class='QuestNode_WorldObjectTimeout']/node/nodes/li[@Class='QuestNode_Letter']/text[contains(text(), 'stargate')]</xpath>
        <value>
            <text>Intercepted communications indicate the site has been scavenged, including the skipgate. The quest [resolvedQuestName] has expired.</text>
        </value>
    </Operation>

    <!-- Renaming the textEnemy -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/PawnsArrivalModeDef[defName="StargateMod_StargateEnterMode"]/textEnemy[contains(text(), 'stargate')]</xpath>
        <value>
            <textEnemy>A group of {0} from {1} are coming through your skipgate!</textEnemy>
        </value>
    </Operation>

    <!-- Renaming the textFriendly -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/PawnsArrivalModeDef[defName="StargateMod_StargateEnterMode"]/textFriendly[contains(text(), 'stargate')]</xpath>
        <value>
            <textFriendly>A group of friendly {0} from {1} are coming through your skipgate!</textFriendly>
        </value>
    </Operation>

    <!-- Renaming the textWillArrive -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/PawnsArrivalModeDef[defName="StargateMod_StargateEnterMode"]/textWillArrive[contains(text(), 'stargate')]</xpath>
        <value>
            <textWillArrive>{0_pawnsPluralDef} will come through your skipgate.</textWillArrive>
        </value>
    </Operation>

    <!-- Renaming the reportString for decoding glyphs -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/JobDef[defName="StargateMod_DecodeGlyphs"]/reportString[contains(text(), 'stargate glyphs')]</xpath>
        <value>
            <reportString>decoding skipgate coordinates.</reportString>
        </value>
    </Operation>


<!-- End of renaming the quests -->

<!-- Patching the recipes  -->

    <!-- Renaming the advanced stargate to skipgate -->
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeAdvancedStargate"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>make an advanced skipgate</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeAdvancedStargate"]/description[contains(text(), 'stargate')]</xpath>
        <value>
			<description>A complex device capable of connecting to a planet’s skipgate network. It is tough enough to withstand the network's aggressive “currents”, making multiple trips possible.\n\nWarning: It is advised to move to a safe distance after establishing a connection with another skipgate.\n\nWarning: When travelling back it is advised to make a new connection, entering through an “exit” may result in the item or person being violently torn apart on a molecular level by the skipgate network’s currents.</description>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeAdvancedStargate"]/jobString[contains(text(), 'stargate')]</xpath>
        <value>
            <jobString>Making a skipgate.</jobString>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_UnfinishedAdvancedStargate"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>unfinished skipgate</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_UnfinishedAdvancedStargate"]/description[contains(text(), 'stargate')]</xpath>
        <value>
            <description>An unfinished skipgate.</description>
        </value>
    </Operation>

    <!-- Renaming the makeshift stargate to makeshift skipgate -->

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeOrlinStargate"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>make a makeshift skipgate</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeOrlinStargate"]/description[contains(text(), 'stargate')]</xpath>
        <value>
			<description>A complex device capable of connecting to a planet’s skipgate network. It is far too fragile and primitive to handle the network’s “currents” so it tends to completely fall apart after a single trip.\n\nWarning: It is advised to move to a safe distance after establishing a connection with another skipgate.\n\nWarning: When travelling back it is advised to make a new connection, entering through an “exit” may result in the item or person being violently torn apart on a molecular level by the skipgate network’s currents.</description>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/RecipeDef[defName="StargateMod_MakeOrlinStargate"]/jobString[contains(text(), 'stargate')]</xpath>
        <value>
            <jobString>Improvising a skipgate.</jobString>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_UnfinishedOrlinStargate"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>unfinished makeshift skipgate</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="StargateMod_UnfinishedOrlinStargate"]/description[contains(text(), 'stargate')]</xpath>
        <value>
            <description>An unfinished makeshift skipgate.</description>
        </value>
    </Operation>

<!-- End of patching the recipes  -->

<!-- Patching stargate site  -->

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/WorldObjectDef[defName="StargateMod_SGSitePerm"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>new skipgate site</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/WorldObjectDef[defName="StargateMod_SGSitePerm"]/description[contains(text(), 'stargate')]</xpath>
        <value>
            <description>A skipgate site, created recently and mostly unknown to everyone but us.</description>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/SitePartDef[defName="StargateMod_StargateSite"]/label[contains(text(), 'stargate')]</xpath>
        <value>
            <label>ancient skipgate site</label>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/SitePartDef[defName="StargateMod_StargateSite"]/description[contains(text(), 'stargate')]</xpath>
        <value>
            <description>A remote, ancient site known to contain a skipgate.</description>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>Defs/SitePartDef[defName="StargateMod_StargateSite"]/arrivedLetter[contains(text(), 'stargate')]</xpath>
        <value>
            <arrivedLetter>There is a skipgate in this area.</arrivedLetter>
        </value>
    </Operation>

<!-- End of patching stargate site  -->


</Patch>